{{ header }}
<div class="pts-container container">
<div class="pts-row d-flex row">{{ column_left }}
		<div id="content" class="pts-col-sm-9 col-sm-9 pts-col-md-9 col-md-9 pts-col-lg-10 col-lg-10 pts-col-xs-12 col-xs-12"> 
			<div class="page-header">
	{% if error_warning %}
    <div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}</div>
    {% endif %}
    {% if success %}
    <div class="alert pts-alert-success"><i class="fa fa-check-circle"></i> {{ success }}</div>
    {% endif %}
    <div class="container-fluid">
     <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
	  {% for breadcrumb in breadcrumbs %}
                <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
				{% endfor %}
              </ul>
			  <div class="pts-pull-right">
				<button type="submit" form="form-product" data-toggle="tooltip" id="button-enabledproduct" title="{{ text_product_enable }}" formaction="{{ enabledproduct }}" class="pts-btn pts-btn-primary" >{{ text_product_enable }}</button>
				<button type="submit" form="form-product" data-toggle="tooltip" id="button-disabledproduct" title="{{ text_product_disable }}" formaction="{{ disabledproduct }}" class="pts-btn btn-danger" >{{ text_product_disable }}</button>
				
				<a href="{{ add }}" id="pts-product-add" data-toggle="tooltip" title="{{ button_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus"></i></a>
				<button type="submit" form="form-product" formaction="{{ copy }}" data-toggle="tooltip" title="{{ button_copy }}" class="pts-btn pts-btn-default"><i class="fa fa-copy"></i></button>
				<button type="button" id="deleteButton" formaction="{{ delete }}" form="form-product"  data-toggle="tooltip" title="{{ button_delete }}" class="pts-btn pts-btn-danger" onclick="confirm('{{ text_confirm }}') ? $('#form-product').submit() : false;"><i class="fa fa-trash-o fas fa-trash-alt"></i></button>
			</div>
    </div>
  </div>
			
			<div>
				<div class="pts-well">
					<div class="pts-row">
						<div class="pts-col-sm-4">
							<div class="pts-form-group ptsnewcss">
								<label class="pts-control-label" for="input-name">{{ entry_name }}</label>
								<input type="text" name="filter_name" value="{{ filter_name }}" placeholder="{{ entry_name }}" id="input-name" class="pts-form-control" />
							</div>
							<div class="pts-form-group ptsnewcss">
								<label class="pts-control-label" for="input-model">{{ entry_model }}</label>
								<input type="text" name="filter_model" value="{{ filter_model }}" placeholder="{{ entry_model }}" id="input-model" class="pts-form-control" />
							</div>
						</div>
						<div class="pts-col-sm-4">
							<div class="pts-form-group">
								<label class="pts-control-label" for="input-price">{{ entry_price }}</label>
								<input type="text" name="filter_price" value="{{ filter_price }}" placeholder="{{ entry_price }}" id="input-price" class="pts-form-control" />
							</div>
							<div class="pts-form-group">
								<label class="pts-control-label" for="input-quantity">{{ entry_quantity }}</label>
								<input type="text" name="filter_quantity" value="{{ filter_quantity }}" placeholder="{{ entry_quantity }}" id="input-quantity" class="pts-form-control" />
							</div>
						</div>
						<div class="pts-col-sm-4">
							<div class="pts-form-group">
								<label class="pts-control-label" for="input-status">{{ entry_status }}</label>
								<select name="filter_status" id="input-status" class="pts-form-control">
									<option value="*">{{ text_all }}</option>
									{% if filter_status =='1' %}
									<option value="1" selected="selected">{{ text_enabled }}</option>
									{% else %}
									<option value="1">{{ text_enabled }}</option>
									{% endif %}
									{% if filter_status =='0' %}
									<option value="0" selected="selected">{{ text_disabled }}</option>
									{% else %}
									<option value="0">{{ text_disabled }}</option>
									{% endif %}
								</select>
							</div>
							<button type="button" id="pts-button-filter" class="pts-btn pts-btn-primary pts-pull-right" style="margin-top: 25px;"><i class="fa fa-filter"></i> {{ button_filter }}</button>
						</div>
					</div>
				</div>
				<div class="pts-row">				
				<div class="pts-col-sm-3">
					<div class="pts-form-group pts-input-group pts-input-group-sm ptssortcss">
						<label class="pts-input-group-addon" for="input-sort">{{ text_sort }}</label>
						<select id="input-sort" class="pts-form-control" onchange="location = this.value;">
							 {% for sorts in sorts_order %} 
							{% if sorts.value == '%s'|format(order) %}
						<option value="{{ sorts.href }}" selected="selected">{{ sorts.text }}</option>
							{% else %}
							<option value="{{ sorts.href }}">{{ sorts.text }}</option>
							{% endif %}
							{% endfor %}
						</select>
					</div>
				</div>
				<div class="pts-col-sm-7">
				</div>
				<div class="pts-col-sm-2">
				<div class="pts-pull-right" style="margin-bottom: 10px;">
				<div class="pts-btn-group pts-btn-group-sm">
				{% set class1 = " " %}
				{% set class2 = " " %}
				{% if product_view == 1%}
				  {% set class1 = "active" %}
				{% else %} 
				  {% set class2 = "active" %}
				{% endif %}
						<button type="button" id="pro-list-view" class="pts-btn pts-btn-default {{ class2 }}" data-toggle="tooltip" title="" data-original-title="{{ text_list }}">
							<i class="fa fa-th-list">
							</i>
						</button>
						<button type="button" id="pro-grid-view" class="pts-btn pts-btn-default {{ class1 }}" data-toggle="tooltip" title="" data-original-title="Seller Product Grid">
							<i class="fa fa-th">
							</i>
						</button>
					</div>
				</div>
				</div>
				</div>
				<div class = "pro-list">
				<form action="{{ delete }}" method="post" enctype="multipart/form-data" id="form-product">
					<div class="pts-table-responsive">
						<table class="pts-table pts-table-bordered pts-table-hover">
							<thead>
								<tr>
									<td style="width: 1px;" class="pts-text-center"><input type="checkbox" onclick="$('input[name*=\'selected\']').prop('checked', this.checked);" /></td>
									<td class="pts-text-center">{{ column_image }}</td>
									<td class="pts-text-left">{{ column_name }}</td>
									<td class="pts-text-left">{{ column_model }}</td>
									<td class="pts-text-right">{{ column_price }}</td>
									<td class="pts-text-right">{{ column_quantity }}</td>
									<td class="pts-text-left">{{ column_status }}</td>
									<td class="pts-text-left">{{ column_approved }}</td>
									<!-- /////// category featured and featured product ///////// -->
									{% if module_purpletree_multivendor_seller_featured_products %}
									<td class="pts-text-left">{{ column_featured_product }}</td>
									{% endif %}
									{% if module_purpletree_multivendor_seller_category_featured %}
									<td class="pts-text-right">{{ column_cataegory_featured_product }}</td>
									{% endif %}
									<!--  /////// End category featured and featured product /////////  -->
									<td class="pts-text-right">{{ column_action }}</td>
								</tr>
							</thead>
							<tbody>
								{% if products %}
								{% for product in products %}
								<tr {% if product.statusid==0 %} class="pts-disabled"  {% endif %} >
									<td class="pts-text-center">{% if selected in product.product_id %}
										<input type="checkbox" name="selected[]" value="{{ product.product_id }}" checked="checked" />
										{% else %}
										<input type="checkbox" name="selected[]" value="{{ product.product_id }}" />
									{% endif %}</td>
									<td class="pts-text-center">{% if product.image %}
										<img src="{{ product.image }}" alt="{{ product.name }}" class="img-thumbnail" />
										{% else %}
										<span class="img-thumbnail list"><i class="fa fa-camera fa-2x"></i></span>
									{% endif %}</td>
									<td class="pts-text-left h4name{{ product.product_id }}">{{ product.name }}</td>
									<td class="pts-text-left">{{ product.model }}</td>
									<td class="pts-text-right">{% if product.special %}
										<span class="pts_price{{ product.product_id }}" style="text-decoration: line-through;">{{ product.price }}</span><br/>
										<div class="text-danger">{{ product.special }}</div>
										{% else %}
										<span class="pts_price{{ product.product_id }}">{{ product.price }}</span>
									{% endif %}</td>
									<td class="pts-text-right">{% if product.quantity <= 0 %}
										<span class="label label-warning pts_quantity{{ product.product_id }}">{{ product.quantity }}</span>
										{% elseif product.quantity <= 5 %}
										<span class="label label-danger pts_quantity{{ product.product_id }}">{{ product.quantity }}</span>
										{% else %}
										<span class="label label-success pts_quantity{{ product.product_id }}">{{ product.quantity }}</span>
									{% endif %}</td>
									<td class="pts-text-left pts_status{{ product.product_id }}">{{ product.status }}</td>
									<td class="pts-text-left">{{ product.is_approved }}</td>
									<!-- /////// category featured and featured product ///////// -->
									{% if module_purpletree_multivendor_seller_featured_products %}
									<td class=" pts-text-center"><input product-id="{{ product.product_id }}" class="is_featured is_featu{{ product.product_id }}" name="is_featured" id="is_featured_checkbox" type="checkbox" {% if product.is_featured == 1 %} checked="checked" {% endif %}{% if product.seller_plan_sataus == 1 %} disabled= "disabled" 
										{% endif %}
									></td>
									{% endif %}
									{% if module_purpletree_multivendor_seller_category_featured %}
									<td class=" pts-text-center"><input product-id="{{ product.product_id }}" class="is_category_featured is_catfeatu{{ product.product_id }}" name="is_category_featured" id="is_category_featured_checkbox" type="checkbox" {% if product.is_category_featured == 1 %} checked="checked" {% endif %} {% if product.seller_plan_sataus == 1 %} disabled= "disabled" 
									{% endif %}></td>
									{% endif %}
									<!-- /////// category featured and featured product ///////// -->
									
									<!--<td id="ptsproduct{{ product.product_id }}" class="pts-text-right">
										{% if not product.hide_edit %}
										<a  href="{{ product.edit }}" data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>
										{% endif %}
									</td>-->
									<td id="producteditlink{{ product.product_id }}" class="pts-text-right">
										
										{% if product_buttonhide %}
										{% if product.is_featured !=0 or product.is_category_featured!=0 %}
										{% else %}
										<a style="{% if direction =='rtl' %} margin-top: 5px;{% endif %}" id="productIdForSelenium" href="{{ product.edit }}" data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>
										<a id="quick_edit" title="{{ title_quick_edit }}" style="background: #5cb85c; {% if direction =='rtl' %} margin-top: 5px;{% endif %}" class="pts-btn pts-btn-primary pts_quick_edit" onclick="quick_edit({{ product.product_id }})"><i class = "fa fa-pencil fas fa-pencil fas fa-pen"></i></a>
										{% endif %}
										{% else %}
										<a style="{% if direction =='rtl' %} margin-top: 5px;{% endif %}" id="productIdForSelenium" href="{{ product.edit }}" data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>
										<a id="quick_edit" title="{{ title_quick_edit }}" style="background: #5cb85c; {% if direction =='rtl' %} margin-top: 5px;{% endif %}" class="pts-btn pts-btn-primary pts_quick_edit" onclick="quick_edit({{ product.product_id }})"><i class = "fa fa-pencil fas fa-pencil fas fa-pen"></i></a>
										{% endif %}
									</td>
								</tr>
								{% endfor %}
								{% else %}
								<tr>
									<td class="pts-text-center" colspan="11">{{ text_no_results }}</td>
								</tr>
								{% endif %}
							</tbody>
						</table>
					</div>
				</div>
				<div class = "pro-grid">
				 <div class="pts-row">
						{% if product.product_total % 2 == 0 %}
						<div class="pts-clearfix"></div>
						{% endif %}				
								{% if products %}
								{% for product in products %}								
							<div class="product-layout pts-product-grid pts-col-lg-4 pts-col-md-4 pts-col-sm-3 pts-col-xs-6">
							<div class="pts-product-thumb">
								<div class="image imagename{{ product.product_id }}"><img src="{{ product.image2 }}" alt="{{ product.name }}" title="{{ product.name }}" class="img-responsive"></a></div>
								<div>
									<div class="pts-caption">
										<h4 class="h4name{{ product.product_id }}">{{ product.name }}</h4>
										{% if product.price %}
								<p class="price">
									{% if not product.special %}
									<span class="pts_price{{ product.product_id }}">{{ product.price }}</span>
									{% else %}
									<span class="price-new pts_price{{ product.product_id }}">{{ product.special }}</span> <span class="price-old pts_price{{ product.product_id }}">{{ product.price }}</span>
									{% endif %}
								</p>
								{% endif %}
									</div>
									<div class="pts-button-group pts-text-right"id="producteditlink{{ product.product_id }}" >
									<div class="pts-quick-lable">
									{% if selected in product.product_id %}
										<input class="pts-quick-lable" type="checkbox" name="selected[]" value="{{ product.product_id }}" checked="checked" />
										{% else %}
										<input type="checkbox" name="selected[]" value="{{ product.product_id }}" />			
									{% endif %}
									</div>
									    {% if product.quantity <= 0 %}<span class="label label-warning pts_quantity{{ product.product_id }}">{{ product.quantity }}</span>
										{% elseif product.quantity <= 5 %}
										<span class="label label-danger pts_quantity{{ product.product_id }}"data-toggle="tooltip" title="{{ column_quantity }}">{{ product.quantity }}</span>
										{% else %}
										<span class="label label-success pts_quantity{{ product.product_id }}" data-toggle="tooltip" title="{{ column_quantity }}">{{ product.quantity }}</span>
									 {% endif %}
									<span style="color: {{ product.color }}; font-weight: bold;"class="pts-quick-lable pts_status{{ product.product_id }}" data-toggle="tooltip" title="{{ column_status }}">{{ product.status }}</span>
								    
									<style>
									.pro-grid a{
										margin-bottom: 5px;
										margin-top: 5px;
									}
									.pts-quick-lable {
									        color:#2e6da4;
											display: inline-block;
											padding: 6px 12px;
											margin-bottom: 0;
											margin-left: -11px;
											font-size: 14px;
											font-weight: 400;
											line-height: 1.42857143;
											text-align: center;
											white-space: nowrap;
											vertical-align: middle;    
											background-image: none;
											border: 1px solid transparent;
											border-radius: 4px;
                                       }
									</style>									
										{% if product_buttonhide %}
										{% if product.is_featured !=0 or product.is_category_featured!=0 %}
										{% else %}
										<a id="productIdForSelenium" href="{{ product.edit }}" data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>
										<a style="background: #5cb85c;" id="quick_edit" title="{{  title_quick_edit }}" class="pts-btn pts-btn-primary pts_quick_edit" onclick="quick_edit({{ product.product_id }})"><i class = "fa fa-pencil fas fa-pencil fas fa-pen"></i></a>
										{% endif %}
										{% else %}
										<a id="productIdForSelenium" href="{{ product.edit }}" data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>
										<a style="background: #5cb85c;"  id="quick_edit" title="{{  title_quick_edit }}" class="pts-btn pts-btn-primary pts_quick_edit" onclick="quick_edit({{ product.product_id }})"><i class = "fa fa-pencil fas fa-pencil fas fa-pen"></i></a>									
										{% endif %}					
									</div>
								</div>
							</div>
						</div>
								{% endfor %}								
								{% else %}								
								<div class="pts-text-center">{{ text_no_results }}</div>								
								{% endif %}						
				</div>
				</div>	
				</form>
				<div class="pts-row">
					<div class="pts-col-sm-6 pts-text-left">{{ pagination }}</div>
					<div class="pts-col-sm-6 pts-text-right">{{ results }}</div>
				</div>
			</div>
		{{ content_bottom }}</div>
	{{ column_right }}</div>
</div>
<!-- Modal -->

{% if module_purpletree_multivendor_subscription_plans is defined and module_purpletree_multivendor_subscription_plans %}
<div class="modal pts-sidenav fade" id="featured_Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog"  id="mySidenav">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h2 class="modal-title text-center" id="myModalLabel">{{ entry_subscription_plans }}</h2>
			</div>
			<form action=""  method="post" id="form_plan">
				<div class="modal-body">
					<div class="errorplan"></div>	
					<input type="hidden" name="productidinform" id="productidinform" value="" />		
					<input type="hidden" name="featuredhidden" id="featuredhidden" value="" />
					<div class="inputgroup">
						{% if product_plan_info is not empty %} 
						{% for plans in product_plan_info %}	
						<div class="radio">				
						    <label><input  id="planidcheck{{ plans.plan_id }}" type="radio" name="popup_product_plan_id" value="{{ plans.plan_id }}" class="plan planidcheck" checked="checked" ><span class="plans">{{ plans.plan_name }}</span></label>
						</div>				
						{% endfor %}{% else %} 
						<div class="radio">
							<label><input type="radio" name="popup_product_plan_id" class=" planidcheck" checked="checked">
							<span class="planidcheck plans">{{ 'Plan Not Found' }}</span></label>
						</div>
						{% endif %} 
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="pts-btn pts-btn-primary sub1" id="sub1">{{ button_save }}</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!--/ popup model-->
<style>
	/* width */
	.pts-sidenav ::-webkit-scrollbar {
	width: 10px;
	float:left;
	position:absolute;
	right:0
	}
	
	/* Track */
	.pts-sidenav ::-webkit-scrollbar-track {
	background: #f1f1f1; 
	}
	
	/* Handle */
	.pts-sidenav ::-webkit-scrollbar-thumb {
	background: #888; 
	}
	
	/* Handle on hover */
	.pts-sidenav ::-webkit-scrollbar-thumb:hover {
	background: #555; 
	}
	.inputgroup{
	overflow-y:auto;
	max-height:150px;
	
	}
	@media(min-width:768px){
	.pts-sidenav .modal-dialog{
    //position: absolute;
	width: 25%;
    margin-top: 5%;
	border:none;
	}
	}
	.pts-sidenav .modal-header .modal-title{
	font-size: 20x
	}
	.pts-sidenav .modal-header{
	padding:7px !important;
	background:#337ab7;
	}
	.pts-sidenav .modal-title, .pts-sidenav .close{
	margin: 0px !important;
    color: #fff !important;
	}
	.pts-sidenav .modal-content{
	height: 100%;
	border: 0px solid #fff;
	}
	input[type="radio"] {
	-webkit-appearance: checkbox; /* Chrome, Safari, Opera */
	-moz-appearance: checkbox;    /* Firefox */
	-ms-appearance: checkbox;     /* not currently supported */
	height:20px;
	width:20px;
	}
	.plans{
	font-size:16px;
	margin-left:10px;
	}
</style>
<script>
	$('input[name="is_category_featured"]').on('change', function(e){
		if(e.target.checked){
			var product_id = $(this).attr('product-id');
			$('#productidinform').val(product_id);
			var is_catfeatu = $(this).prop('checked');
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/check_category_featured_product_subscription_plan&value=' +  is_catfeatu + '&product_id='+ product_id,
				dataType: 'json',
				success: function(json) {
					if(json.status == 'success') {
						if(json.plan_id){
							$('#planidcheck'+json.plan_id).prop('checked', true);
						}
						$('.is_catfeatu'+product_id).prop('checked', false);
						$('#featuredhidden').val('2');	            
						$('#featured_Modal').modal();
					} 
					else {
						
					}
				}
			})
			} else {
			var product_id = $(this).attr('product-id');
			$('#productidinform').val(product_id);
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/remove_category_featured_product_subscription_plan&product_id='+ product_id,
				dataType: 'json',
				success: function(json) {
					if(json.status == 'success') {
						$("html, body").animate({ scrollTop: 0 }, "slow");
						$(".plansave").html('<div class="alert pts-alert-success"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
						
						{% if product_buttonhide %}
						if($('.is_featu'+product_id).prop('checked')) { } else {
							$('#producteditlink'+product_id).append('<a href="{{ productedit }}&product_id=' + product_id + ' data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>');					
						}
						{% endif %}
					} 
					else {
						
					}
				}
			})
		}
	})
	
	$('[name="is_featured"]').on('change', function(e){
		if(e.target.checked){
			var product_id = $(this).attr('product-id');
			$('#productidinform').val(product_id);
			var is_featured = $(this).prop('checked');
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/check_featured_product_subscription_plan&value=' +  is_featured + '&product_id='+ product_id,
				dataType: 'json',
				success: function(json) {
					if(json.status == 'success') {
						if(json.plan_id){
							$('#planidcheck'+json.plan_id).prop('checked', true);
						}
						$('.is_featu'+product_id).prop('checked', false);
						$('#featuredhidden').val('1');	       
						$('#featured_Modal').modal();
					} 
					else {
						
					}
				}
			});	
			} else {
			var product_id = $(this).attr('product-id');
			$('#productidinform').val(product_id);
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/remove_featured_product_subscription_plan&product_id='+ product_id,
				dataType: 'json',
				success: function(json) {
					if(json.status == 'success') {
						
						$("html, body").animate({ scrollTop: 0 }, "slow");
						$(".plansave").html('<div class="alert pts-alert-success"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');$('#product'+json.product_id).css('display','block');	
						
						
						{% if product_buttonhide %}
						if($('.is_catfeatu'+product_id).prop('checked')) { } else {
							$('#producteditlink'+product_id).append('<a href="{{ productedit }}&product_id=' + product_id + ' data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>');	
						}						
						{% endif %}
					} 
					else {
						
					}
				}
			})
		}
	});
	
	var frm = $('#form_plan');
	frm.submit(function (e) {
		e.preventDefault();
		if($('.planidcheck').is(':checked')) {
			$.ajax({
				type: frm.attr('method'),
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/add_featured_product_By_Popup',
				data: frm.serialize(),
				success: function (json) {
					if(json.status == 'success') {
						$('#featured_Modal').modal('hide');
						$("html, body").animate({ scrollTop: 0 }, "slow");
						$(".plansave").html('<div class="alert pts-alert-success"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
						if(json.featuredhidden == 1){
							$('.is_featu'+json.product_id).prop('checked', true);
							
							}else{
							$('.is_catfeatu'+json.product_id).prop('checked', true);
						}
						{% if product_buttonhide %}
						$('#producteditlink'+json.product_id).empty();
						{% endif %}
						
						}else {
						$('.errorplan').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
					}
				},
				error: function (json) {
					if(json.status == 'error') {
						$('.errorplan').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
						$('div.modal , .modal-backdrop').show();
					}
				},
			});
			} else {
			
			$('.errorplan').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i>Please Select Subscription plan</div>');
			$('div.modal , .modal-backdrop').show();
		}
	});
	
</script>
{% else %}
<script>
	$('.is_featured').on('click', function(e) {
		var product_id = $(this).attr('product-id');
		var is_featured = $(this).prop('checked');
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/change_is_featured&value=' +  is_featured + '&product_id='+ product_id,
			dataType: 'json',
			success: function(json) {
				if(json.status == 'success') {
					$("html, body").animate({ scrollTop: 0 }, "slow");
					$('.successdiv').html('<div class="alert pts-alert-success"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
					$('.errordiv').html('');
					
					{% if product_buttonhide %}
					
					if(json.value==1){
						$('#producteditlink'+json.product_id).empty();
						} else {
						//is_catfeatu is_featu
						if($('.is_catfeatu'+product_id).prop('checked')) { } else {
							$('#producteditlink'+product_id).append('<a href="{{ productedit }}&product_id=' + product_id + ' data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>');
						}
					}
					{% endif %}
				}
				else {
					$("html, body").animate({ scrollTop: 0 }, "slow");
					$('.errordiv').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
					$('.successdiv').html('');
					$('.is_featu'+product_id).prop('checked', false);
					
				}
			}
		});
	});
	$('.is_category_featured').on('click', function() {
		var product_id = $(this).attr('product-id');
		var is_category_featured = $(this).prop('checked');
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/change_is_category_featured&value=' +  is_category_featured + '&product_id='+ product_id,
			dataType: 'json',
			success: function(json) {
				if(json.status == 'success') {
					$("html, body").animate({ scrollTop: 0 }, "slow");
					$('.successdiv').html('<div class="alert pts-alert-success"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
					$('.errordiv').html('');
					{% if product_buttonhide %}
					if(json.value==1){
						
						$('#producteditlink'+product_id).empty();
						} else {
						//is_catfeatu is_featu
						if($('.is_featu'+product_id).prop('checked')) { 
							
							} else {
							
							$('#producteditlink'+product_id).append('<a href="{{ productedit }}&product_id=' + product_id + ' data-toggle="tooltip" title="{{ button_edit }}" class="pts-btn pts-btn-primary"><i class="fa fa-pencil fas fa-edit fas fa-pen"></i></a>');
						}
					}
					{% endif %}
					
				}
				else {
					$("html, body").animate({ scrollTop: 0 }, "slow");
					$('.errordiv').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i>'+ json.message +'</div>');
					$('.successdiv').html('');
					$('.is_catfeatu'+product_id).prop('checked', false)
				}
			}
		});
	});
</script>
{% endif %}
<script type="text/javascript"><!--
	$('#button-enabledproduct, #button-disabledproduct').on('click', function(e) {
		
		if(confirm('{{ text_confirm }}')) {
			
			$('#form-product').attr('action', this.getAttribute('formAction')).submit();
		}
		else { 
			return false;
		}
	});
	$('#pts-button-filter').on('click', function() {
		var url = 'index.php?route=extension/account/purpletree_multivendor/sellerproduct';
		
		var filter_name = $('input[name=\'filter_name\']').val();
		
		if (filter_name) {
			url += '&filter_name=' + encodeURIComponent(filter_name);
		}
		
		var filter_price = $('input[name=\'filter_price\']').val();
		
		if (filter_price) {
			url += '&filter_price=' + encodeURIComponent(filter_price);
		}
		
		var filter_quantity = $('input[name=\'filter_quantity\']').val();
		
		if (filter_quantity) {
			url += '&filter_quantity=' + encodeURIComponent(filter_quantity);
		}
		
		var filter_status = $('select[name=\'filter_status\']').val();
		
		if (filter_status != '*') {
			url += '&filter_status=' + encodeURIComponent(filter_status);
		}
		
		var filter_model = $('input[name=\'filter_model\']').val();
		
		if (filter_model != '*') {
			url += '&filter_model=' + encodeURIComponent(filter_model);
		}
		
		location = url;
	});
//--></script>
<script type="text/javascript"><!--
	$('input[name=\'filter_name\']').autocompletepts({
		'source': function(request, response) {
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/autocomplete&filter_name=' +  encodeURIComponent(request),
				dataType: 'json',
				success: function(json) {
					response($.map(json, function(item) {
						return {
							label: item['name'],
							value: item['product_id']
						}
					}));
				}
			});
		},
		'select': function(item) {
			$('input[name=\'filter_name\']').val(item['label']);
		}
	});
	$('input[name=\'filter_model\']').autocompletepts({
		'source': function(request, response) {
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/autocomplete&filter_model=' +  encodeURIComponent(request),
				dataType: 'json',
				success: function(json) {
					response($.map(json, function(item) {
						return {
							label: item['model'],
							value: item['product_id']
						}
					}));
				}
			});
		},
		'select': function(item) {
			$('input[name=\'filter_model\']').val(item['label']);
		}
	});
//--></script>
<script>
// Start Quick edit model function	

var special_row = 0;
var option_row = 0;
var option_value_row = 0;

	
	function addSpecial() {
		html  = '<tr class="special-pts-row-class" id="special-pts-row' + special_row + '">';
		html += '  <td class="pts-text-left"><select name="product_special[' + special_row + '][customer_group_id]" class="pts-form-control">';
		{% for customer_group in customer_groups %}
		html += '      <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name|escape('js') }}</option>';
		{% endfor %}
		html += '  </select></td>';
		html += '  <td class="pts-text-right"><input id="prioritySpecialId" type="text" name="product_special[' + special_row + '][priority]" value="" placeholder="{{ entry_priority }}" class="pts-form-control" /></td>';
		html += '  <td class="pts-text-right"><input id="priceSpecialId" type="text" name="product_special[' + special_row + '][price]" value="" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
		html += '  <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex d-flex"><input id="dataStartSpecialId" type="text" name="product_special[' + special_row + '][date_start]" value="" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
		html += '  <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex d-flex"><input id="dataEndSpecialId" type="text" name="product_special[' + special_row + '][date_end]" value="" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
		html += '  <td class="pts-text-left"><button type="button" onclick="$(\'#special-pts-row' + special_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		html += '</tr>';
		
		$('#special tbody').append(html);
		
		$('.date').datetimepicker({
			language: '{{ datepicker }}',
			pickTime: false
		});
		
		special_row++;
	}
	
	function quick_edit(product_id){
	$('#quick_product_id').val(product_id);
		$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/quickEdit&product_id=' +  product_id,
				dataType: 'json',
				success: function(json) {
				$('#quick-product-price').val(json.price);
				$('#quick-product-quantity').val(json.quantity);
				$.each (json.name, function (name1) {            
				  $('.product_name'+json.name[name1].product_lang+'').html('<input autocomplete="off" name="product_description['+json.name[name1].product_lang+'][name]" value="'+json.name[name1].product_name+'" placeholder="" id="quick-product-name'+json.name[name1].product_lang+'" class="pts-form-control" type="text" required>');
                 
                });
				$('.special-pts-row-class').remove();
				$.each (json.special_price, function (special_price1) {                 
		if(special_price1 !=0){
   		 html  = '<tr style="background: #c1dec1;" class="special-pts-row-class" id="special-pts-row' + special_row + '">';
		html += '  <td class="pts-text-left"><select name="product_special[' + special_row + '][customer_group_id]" class="pts-form-control">';
		
		{% for customer_group in customer_groups %}		
		  var customer_group_id = '{{ customer_group.customer_group_id }}';
		if (customer_group_id == json.special_price[special_price1].customer_group_id){
		html += '      <option value="{{ customer_group.customer_group_id }}" selected="selected">{{ customer_group.name|escape('js') }}</option>';
		}else{
		html += '      <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name|escape('js') }}</option>';
		}
		{% endfor %}
		html += '  </select></td>';
		html += '  <td style="display: none;" class="pts-text-right"><input id="prioritySpecialId" type="text" name="product_special[' + special_row + '][priority]" value="'+json.special_price[special_price1].priority+'" placeholder="{{ entry_priority }}" class="pts-form-control" /></td>';
		html += '  <td class="pts-text-right"><input id="priceSpecialId" type="text" name="product_special[' + special_row + '][price]" value="'+json.special_price[special_price1].price+'" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
		html += '  <td style="display: none;" class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex d-flex"><input id="dataStartSpecialId" type="text" name="product_special[' + special_row + '][date_start]" value="'+json.special_price[special_price1].date_start+'" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
		html += '  <td style="display: none;" class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex d-flex"><input id="dataEndSpecialId" type="text" name="product_special[' + special_row + '][date_end]" value="'+json.special_price[special_price1].date_end+'" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
		html += '  <td class="pts-text-left"><button type="button" onclick="$(\'#special-pts-row' + special_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		html += '</tr>';
		
		$('.quicksprice').append(html);
		
		/*  $('.date').datetimepicker({
			language: '{{ datepicker }}',
			pickTime: false
		}); 
		 */
		 
				}   
				special_row++;
                });
				$('.options-pts-row-class').remove();
				$('.tab-option-class-s').remove();
				$.each (json.product_option, function (product_option1,product_option2) { 
				html = '';
				//html += '<a href="#tab-option'+option_row+'" data-toggle="tab"><i class="fa fa-minus-circle" </i>'+json.product_option[product_option1].name+'</a>';				  
				$('.edit_option').append(html);
			html='';
			html  = '<div class="pts-tab-pane options-pts-row-class" id="tab-option' + option_row + '">';
			html += '	<input type="hidden" name="product_option[' + option_row + '][product_option_id]" value="'+json.product_option[product_option1].option_id+'" />';
			html += '	<input type="hidden" name="product_option[' + option_row + '][name]" value="'+json.product_option[product_option1].name+'" />';
			html += '	<input type="hidden" name="product_option[' + option_row + '][option_id]" value="' + json.product_option[product_option1].option_id + '" />';
			html += '	<input type="hidden" name="product_option[' + option_row + '][type]" value="' + json.product_option[product_option1].type + '" />';
			
			html += '	<div class="pts-form-group row">';
			html += '	  <label class="pts-col-sm-2 col-form-label" for="input-required' + option_row + '">{{ entry_required }}</label>';
			html += '	  <div class="pts-col-sm-10"><select name="product_option[' + option_row + '][required]" id="input-required' + option_row + '" class="pts-form-control">';
			if(json.product_option[product_option1].required){
			    html += '<option value="1" selected="selected">{{ text_yes }}</option>';
			    html += '<option value="0">{{ text_no }}</option>';
				}else{
				html += '<option value="1">{{ text_yes }}</option>';
			    html += '<option value="0" selected="selected">{{ text_no }}</option>';
				}
			
			html += '	  </select></div>';
			html += '	</div>';
			
			if (json.product_option[product_option1].type == 'text') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="'+json.product_option[product_option1].value+'" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control" /></div>';
				html += '	</div>';
			}
			
			if (json.product_option[product_option1].type == 'textarea') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><textarea name="product_option[' + option_row + '][value]" rows="5" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control">'+json.product_option[product_option1].value+'</textarea></div>';
				html += '	</div>';
			}
			
			if (json.product_option[product_option1].type == 'file') {
				html += '	<div class="pts-form-group row" style="display: none;">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="'+json.product_option[product_option1].value+'" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control" /></div>';
				html += '	</div>';
			}
			
			if (json.product_option[product_option1].type == 'date') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-3"><div class="pts-input-group date d-flex d-flex"><input type="text" name="product_option[' + option_row + '][value]" value="'+json.product_option[product_option1].value+'" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
				html += '	</div>';
			}
			
			if (json.product_option[product_option1].type == 'time') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><div class="pts-input-group time"><input type="text" name="product_option[' + option_row + '][value]" value="'+json.product_option[product_option1].value+'" placeholder="{{ entry_option_value }}" data-date-format="HH:mm" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
				html += '	</div>';
			}
			
			if (json.product_option[product_option1].type == 'datetime') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><div class="pts-input-group date d-flex d-flextime"><input type="text" name="product_option[' + option_row + '][value]" value="'+json.product_option[product_option1].value+'" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
				html += '	</div>';
			}
			
			if (json.product_option[product_option1].type == 'select' || json.product_option[product_option1].type == 'radio' || json.product_option[product_option1].type == 'checkbox' || json.product_option[product_option1].type == 'image') {
				html += '<div class="pts-table-responsive">';
				html += '  <table id="option-value' + option_row + '" class="pts-table pts-table-striped pts-table-bordered pts-table-hover">';
				html += '  	 <thead>';
				html += '      <tr>';
				html += '        <td class="pts-text-left">{{ entry_option_value }}</td>';
				html += '        <td style="display: none;" class="pts-text-right">{{ entry_quantity }}</td>';
				html += '        <td style="display: none;" class="pts-text-left">{{ entry_subtract }}</td>';
				html += '        <td class="pts-text-right">{{ entry_price }}</td>';
				html += '        <td style="display: none;" class="pts-text-right">{{ entry_option_points }}</td>';
				html += '        <td style="display: none;" class="pts-text-right">{{ entry_weight }}</td>';
				html += '        <td></td>';
				html += '      </tr>';
				html += '  	 </thead>';
				html += '  	 <tbody>';
				$.each(product_option2.product_option_value,function (product_option_value3,product_option_value4){
					
				html += '	<tr id="option-value-pts-row'+option_value_row+'">';
				
				html += '  <td class="pts-text-left pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][option_value_id]" class="pts-form-control">';
				$.each (json.product_option_values_data, function (product_option_values_data1,product_option_values_data2) { 
					
					$.each (product_option_values_data2, function (product_option_values_data3,product_option_values_data4) {
					
					if(product_option_value4.option_value_id==product_option_values_data4.option_value_id){
					    html+= '<option value="'+product_option_values_data4.option_value_id+'" selected="selected">'+product_option_values_data4.name+'</option>';
						}else{
						html+= '<option value="'+product_option_values_data4.option_value_id+'">'+product_option_values_data4.name+'</option>';
						}
					
					}); 
				}); 
				html += $('#option-values' + option_row).html();
				html += '  </select><input type="hidden" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][product_option_value_id]" value="'+product_option_value4.product_option_value_id+'" /></td>';
				html += '  <td style="display: none;" class="pts-text-right pts-product-option"><input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][quantity]" value="'+product_option_value4.quantity+'" placeholder="{{ entry_quantity }}" class="pts-form-control" /></td>';
				html += '  <td style="display: none;" class="pts-text-left pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][subtract]" class="pts-form-control">';
				if(product_option_value4.subtract == 1){
				    html += '    <option value="1" selected="selected">{{ text_yes }}</option>';
				    html += '    <option value="0">{{ text_no }}</option>';
					}else{
					html += '    <option value="1">{{ text_yes }}</option>';
				    html += '    <option value="0" selected="selected">{{ text_no }}</option>';
					}
				
				html += '  </select></td>';
				html += '  <td class="pts-text-right pts-product-option"><select style="display: none;" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price_prefix]" class="pts-form-control">';
				if(product_option_value4.price_prefix == '+'){
				    html += '    <option value="+" selected="selected">+</option>';
					}else{
					html += '    <option value="+">+</option>';				   
					}
				if(product_option_value4.price_prefix == '-'){				    
				    html += '    <option value="-" selected="selected">-</option>';
					}else{
				    html += '    <option value="-">-</option>';
					}
				
				html += '  </select>';
				html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price]" value="'+product_option_value4.price+'" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
				html += '  <td style="display: none;" class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points_prefix]" class="pts-form-control">';
				if(product_option_value4.points_prefix == '+'){
				   html += '    <option value="+" selected="selected">+</option>';
				   
				}else{
				   html += '    <option value="+">+</option>';				  
					}
				if(product_option_value4.points_prefix == '-'){		
				   html += '    <option value="-" selected="selected">-</option>';
				}else{
				   html += '    <option value="+">-</option>';				   
					}	
				
				html += '  </select>';
				html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points]" value="'+product_option_value4.points+'" placeholder="{{ entry_points }}" class="pts-form-control" /></td>';
				html += '  <td style="display: none;" class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight_prefix]" class="pts-form-control">';
				if(product_option_value4.weight_prefix == '+'){
				    html += '    <option value="+" selected="selected">+</option>';
					}else{
					html += '    <option value="+">+</option>';				   
					}
				if(product_option_value4.weight_prefix == '-'){				    
				    html += '    <option value="-" selected="selected">-</option>';
					}else{
				    html += '    <option value="-">-</option>';
					};
				html += '  </select>';
				html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight]" value="'+product_option_value4.weight+'" placeholder="{{ entry_weight }}" class="pts-form-control" /></td>';
				html += '  <td class="pts-text-left pts-product-option"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#option-value-pts-row' + option_value_row + '\').remove();" data-toggle="tooltip" rel="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
				html += '';
				html += '	</tr>';
				   option_value_row++;
				   
					});
				html += '    </tbody>';
				html += '    <tfoot>';
				html += '      <tr>';
				html += '        <td colspan="2"></td>';
				html += '        <td class="pts-text-left"><button type="button" onclick="addOptionValue(' + option_row + ');" data-toggle="tooltip" title="{{ button_option_value_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus-circle"></i></button></td>';
				html += '      </tr>';
				html += '    </tfoot>';
				html += '  </table>';
				html += '</div>';
				
				html += '  <select id="option-values' + option_row + '" style="display: none;">';
				$.each (json.product_option_values_data, function (product_option_values_data1,product_option_values_data2) { 
				$.each (product_option_values_data2, function (product_option_values_data3,product_option_values_data4) {
					
					html+= '<option value="'+product_option_values_data4.option_value_id+'">'+product_option_values_data4.name+'</option>';
					});
				});
				
				html += '  </select>';
				html += '</div>';
			}
			
			$('.quick_product_option').append(html);
			
			$('#option > li:last-child').before('<li class="tab-option-class-s"><a href="#tab-option' + option_row + '" data-toggle="tab"><i class="fa fa-minus-circle" onclick=" $(\'#option a:first\').tab(\'show\');$(\'a[href=\\\'#tab-option' + option_row + '\\\']\').parent().remove(); $(\'#tab-option' + option_row + '\').remove();"></i>' + json.product_option[product_option1].name + '</li>');
			
			$('#option a[href=\'#tab-option' + option_row + '\']').tab('show');
			
			$('[data-toggle=\'tooltip\']').tooltip({
				container: 'body',
				html: true
			});
			
			$('.date').datetimepicker({
				pickTime: false
			});
			
			$('.time').datetimepicker({
				pickDate: false
			});
			
			$('.datetime').datetimepicker({
				pickDate: true,
				pickTime: true
			});
			option_row++;
				});
				if(json.status == 1){
				 // $('#quick-product-status option[value=1]').prop('selected', 'selected');
				   $('input[name="quick_product_status"][value="1"]').prop('checked', true);
					}else{
					//$('#quick-product-status option[value=0]').prop('selected', 'selected');
					 $('input[name="quick_product_status"][value="0"]').prop('checked', true);
					}
				
				},
				error: function(json) {
				alert('error');
				}
				
			});
			
			$('#quick_edit_modal').modal('show'); 
		   	 //$('body').css('overflow', 'hidden');
			 
		}
	
// End Quick edit model function
</script>
<!--/ Start Quick edit popup model-->
<!-- Modal -->
<!-- The Modal -->
  <div class="modal" id="quick_edit_modal">
    <div class="modal-dialog quickviewmodal">
      <div class="modal-content">
      <form method="post" id="form_quick_edit">
        <!-- Modal Header -->
        <div class="modal-header">
                 <h4 class="modal-title" id="quick_edit_Label">{{  title_quick_edit }}</h4>		
           <button type="button" class="close pts-rtl-close" data-dismiss="modal" style="margin-top: -23px;">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <ul class="pts-nav pts-nav-tabs nav nav-tabs" id="language">
							<input type="hidden" id="quick_product_id" name="quick_product_id" value="">
							<input type="hidden" name="seller_name" value="{{ seller_name }}">
							{% for language in languages %}
							<li class="nav-item"><a href="#language{{ language.language_id }}" data-toggle="tab" class="nav-link"><img class="pts-lan-image" src="catalog/language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /> {{ language.name }}</a></li>
							{% endfor %}
						</ul>
			<div class="pts-tab-content ">			
			{% for language in languages %}			
			<div class="pts-tab-pane {{ language.activetab }}" id="language{{ language.language_id }}">
			    <div class="pts-row">         
                  <div class="pts-col-sm-3 pts-form-group">
						<label class="pts-control-label pts-col-form-label" for="quick-product-name{{ language.language_id }}">{{ entry_name }}</label>
				  </div>
				  <div class="pts-col-sm-9 pts-form-group product_name{{ language.language_id }}">
						
				</div>
			</div>
			</div>
			{% endfor %}
			</div>
			 <div class="pts-row"> 
				<div class="pts-col-sm-3 pts-form-group ">
						<label class="pts-control-label pts-col-form-label" for="quick-product-price">{{ entry_price }}</label>
				  </div>
				  <div class="pts-col-sm-9 pts-form-group">
						<input autocomplete="off" name="quick_product_price" value="" placeholder="" id="quick-product-price" class="pts-form-control" type="text" required>
				</div>
				
				</div>
				 <div class="pts-row"> 
				<div class="pts-col-sm-12 pts-form-group ">
						<label class="pts-control-label pts-col-form-label" for="quick-product-special-price">{{ entry_special_price }}</label>
				  </div>
				  <div class="pts-col-sm-12 pts-form-group">
				  <div class="pts-table-responsive">
						<table id="special" class="pts-table pts-table-striped pts-table-bordered pts-table-hover">
							<thead>
								<tr>
								    <td class="pts-text-left">{{ entry_customer_group }}</td>
									<td style="display: none;"class="pts-text-right">{{ entry_priority }}</td>
									{% if metals_product == 1 %}                      
									<td class="pts-text-right"><span id="priExtr">{{ entry_price_extra }}<span id="priExtrTypeFxd">{{ text_fixed }}</span>
									<span id="priExtrTypePercent">{{ text_percentage }}</span></span><span id="pri">{{ entry_price }}</span></td>
									{% else %}
									<td class="pts-text-right">{{ entry_price }}</td>
									{% endif %}
									<td style="display: none;" class="pts-text-left">{{ entry_date_start }}</td>
									<td style="display: none;" class="pts-text-left">{{ entry_date_end }}</td>
									<td></td>
								</tr>
							</thead>
							<tbody class="quicksprice">
							</tbody>
							<tfoot>
								<tr style="display: none;">
									<td colspan="5"></td>
									<td class="pts-text-left"><button id="addSpecialButtonId" type="button" onclick="addSpecial();" data-toggle="tooltip" title="{{ button_special_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus-circle"></i></button></td>
								</tr>
							</tfoot>
						</table>
				</div>
				</div>
				
				</div>
				 <div class="pts-row"> 
					<div class="pts-col-sm-3 pts-form-group">
						<label class="pts-control-label pts-col-form-label" for="quick-product-quantity">{{ entry_quantity }}</label>
				  </div>
				  <div class="pts-col-sm-9 pts-form-group">
						<input autocomplete="off" name="quick_product_quantity" value="" placeholder="{{ entry_quantity }}" id="quick-product-quantity" class="pts-form-control" type="text">
					</div>
				</div>
				 <div class="pts-row"> 
				   <div class="pts-col-sm-3 pts-form-group">
						<label class="pts-control-label pts-col-form-label" for="quick-product-status">{{ entry_status }}</label>
				  </div>
				  <div class="pts-col-sm-9 pts-form-group">	
						<input  type="radio" name = "quick_product_status" value="1">&nbsp <span style="color:#5cb85c; font-weight: bold;"> {{ text_enabled }}</span>&nbsp&nbsp 
                        <input  type="radio" name = "quick_product_status" value="0">&nbsp <span style="color:#c73e38; font-weight: bold;">{{ text_disabled }}</span>
					</div>
				</div>
				<div class="pts-row"> 
					<div class="pts-col-sm-12 pts-form-group">
						<label class="pts-control-label pts-col-form-label" for="input-product-status">{{ entry_option }}</label>						
					</div>
						<div class="pts-col-sm-12 pts-form-group ">
						<div class="pts-col-sm-2">
							<ul class="pts-nav pts-nav-pills pts-nav-stacked" id="option">
								<li class="edit_option">
								</li>
								<li>
									<input type="text" name="option" value="" placeholder="{{ entry_option }}" id="input-option" class="pts-form-control" />
								</li>
							</ul>
						</div>
						<div class="pts-col-sm-10">
							<div class="pts-tab-content quick_product_option">
						</div>
						</div>
						</div>
				</div>				
						            
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
		   <button type="button" class="btn btn-default" data-dismiss="modal">{{ button_cancel }}</button>
                <button type="submit" class="btn btn-primary">{{ button_save }}</button>
        </div>
        </form>
      </div>
    </div>
  </div>
<script type="text/javascript"><!--	
	$('input[name=\'option\']').autocompletepts({
		'source': function(request, response) {
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/option&filter_name=' +  encodeURIComponent(request),
				dataType: 'json',
				success: function(json) {
					response($.map(json, function(item) {
						return {
							category: item['category'],
							label: item['name'],
							value: item['option_id'],
							type: item['type'],
							option_value: item['option_value']
						}
					}));
				}
			});
		},
		'select': function(item) {	
			html  = '<div class="pts-tab-pane options-pts-row-class" id="tab-option' + option_row + '">';
			html += '	<input type="hidden" name="product_option[' + option_row + '][product_option_id]" value="" />';
			html += '	<input type="hidden" name="product_option[' + option_row + '][name]" value="' + item['label'] + '" />';
			html += '	<input type="hidden" name="product_option[' + option_row + '][option_id]" value="' + item['value'] + '" />';
			html += '	<input type="hidden" name="product_option[' + option_row + '][type]" value="' + item['type'] + '" />';
			
			html += '	<div class="pts-form-group row">';
			html += '	  <label class="pts-col-sm-2 col-form-label" for="input-required' + option_row + '">{{ entry_required }}</label>';
			html += '	  <div class="pts-col-sm-10"><select name="product_option[' + option_row + '][required]" id="input-required' + option_row + '" class="pts-form-control">';
			html += '	      <option value="1">{{ text_yes }}</option>';
			html += '	      <option value="0">{{ text_no }}</option>';
			html += '	  </select></div>';
			html += '	</div>';
			
			if (item['type'] == 'text') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control" /></div>';
				html += '	</div>';
			}
			
			if (item['type'] == 'textarea') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><textarea name="product_option[' + option_row + '][value]" rows="5" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control"></textarea></div>';
				html += '	</div>';
			}
			
			if (item['type'] == 'file') {
				html += '	<div class="pts-form-group row" style="display: none;">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control" /></div>';
				html += '	</div>';
			}
			
			if (item['type'] == 'date') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-3"><div class="pts-input-group date d-flex d-flex"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
				html += '	</div>';
			}
			
			if (item['type'] == 'time') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><div class="pts-input-group time"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="HH:mm" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
				html += '	</div>';
			}
			
			if (item['type'] == 'datetime') {
				html += '	<div class="pts-form-group row">';
				html += '	  <label class="pts-col-sm-2 col-form-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
				html += '	  <div class="pts-col-sm-10"><div class="pts-input-group date d-flex d-flextime"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
				html += '	</div>';
			}
			
			if (item['type'] == 'select' || item['type'] == 'radio' || item['type'] == 'checkbox' || item['type'] == 'image') {
				html += '<div class="pts-table-responsive">';
				html += '  <table id="option-value' + option_row + '" class="pts-table pts-table-striped pts-table-bordered pts-table-hover">';
				html += '  	 <thead>';
				html += '      <tr>';
				html += '        <td class="pts-text-left">{{ entry_option_value }}</td>';
				html += '        <td style="display: none;" class="pts-text-right">{{ entry_quantity }}</td>';
				html += '        <td style="display: none;" class="pts-text-left">{{ entry_subtract }}</td>';
				html += '        <td class="pts-text-right">{{ entry_price }}</td>';
				html += '        <td style="display: none;" class="pts-text-right">{{ entry_option_points }}</td>';
				html += '        <td style="display: none;" class="pts-text-right">{{ entry_weight }}</td>';
				html += '        <td></td>';
				html += '      </tr>';
				html += '  	 </thead>';
				html += '  	 <tbody>';
				html += '    </tbody>';
				html += '    <tfoot>';
				html += '      <tr>';
				html += '        <td colspan="2"></td>';
				html += '        <td class="pts-text-left"><button type="button" onclick="addOptionValue(' + option_row + ');" data-toggle="tooltip" title="{{ button_option_value_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus-circle"></i></button></td>';
				html += '      </tr>';
				html += '    </tfoot>';
				html += '  </table>';
				html += '</div>';
				
				html += '  <select id="option-values' + option_row + '" style="display: none;">';
				
				for (i = 0; i < item['option_value'].length; i++) {
					html += '  <option value="' + item['option_value'][i]['option_value_id'] + '">' + item['option_value'][i]['name'] + '</option>';
				}
				
				html += '  </select>';
				html += '</div>';
			}
			
			$('.quick_product_option').append(html);
			
			$('#option > li:last-child').before('<li class="tab-option-class-s"><a href="#tab-option' + option_row + '" data-toggle="tab"><i class="fa fa-minus-circle" onclick=" $(\'#option a:first\').tab(\'show\');$(\'a[href=\\\'#tab-option' + option_row + '\\\']\').parent().remove(); $(\'#tab-option' + option_row + '\').remove();"></i>' + item['label'] + '</li>');
			
			$('#option a[href=\'#tab-option' + option_row + '\']').tab('show');
			
			$('[data-toggle=\'tooltip\']').tooltip({
				container: 'body',
				html: true
			});
			
			$('.date').datetimepicker({
				pickTime: false
			});
			
			$('.time').datetimepicker({
				pickDate: false
			});
			
			$('.datetime').datetimepicker({
				pickDate: true,
				pickTime: true
			});
			
			option_row++;
		}
	});

	function addOptionValue(option_row) {
		html  = '<tr id="option-value-pts-row' + option_value_row + '">';
		html += '  <td class="pts-text-left pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][option_value_id]" class="pts-form-control">';
		html += $('#option-values' + option_row).html();
		html += '  </select><input type="hidden" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][product_option_value_id]" value="" /></td>';
		html += '  <td style="display: none;" class="pts-text-right pts-product-option"><input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][quantity]" value="" placeholder="{{ entry_quantity }}" class="pts-form-control" /></td>';
		html += '  <td style="display: none;" class="pts-text-left pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][subtract]" class="pts-form-control">';
		html += '    <option value="1">{{ text_yes }}</option>';
		html += '    <option value="0">{{ text_no }}</option>';
		html += '  </select></td>';
		html += '  <td class="pts-text-right pts-product-option"><select style="display: none;" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price_prefix]" class="pts-form-control">';
		html += '    <option value="+">+</option>';
		html += '    <option value="-">-</option>';
		html += '  </select>';
		html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price]" value="" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
		html += '  <td style="display: none;" class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points_prefix]" class="pts-form-control">';
		html += '    <option value="+">+</option>';
		html += '    <option value="-">-</option>';
		html += '  </select>';
		html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points]" value="" placeholder="{{ entry_points }}" class="pts-form-control" /></td>';
		html += '  <td style="display: none;" class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight_prefix]" class="pts-form-control">';
		html += '    <option value="+">+</option>';
		html += '    <option value="-">-</option>';
		html += '  </select>';
		html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight]" value="" placeholder="{{ entry_weight }}" class="pts-form-control" /></td>';
		html += '  <td class="pts-text-left pts-product-option"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#option-value-pts-row' + option_value_row + '\').remove();" data-toggle="tooltip" rel="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		html += '</tr>';
		
		$('#option-value' + option_row + ' tbody').append(html);
		$('[rel=tooltip]').tooltip();
		
		option_value_row++;
	}
	
	var quick_form = $('#form_quick_edit');
	quick_form.submit(function (e) {
		e.preventDefault();	
			$.ajax({
				type: quick_form.attr('method'),
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/quickSave',
				data: quick_form.serialize(),
				success: function (json) {
					if(json.status == 'success') {
						if(json.productname && json.productname != '' && json.product_id && json.product_id != '') {
						$('.imagename'+json.product_id).attr('title',json.productname);
						$('.imagename'+json.product_id).attr('alt',json.productname);
						$('.h4name'+json.product_id).text(json.productname);
						$('.pts_price'+json.product_id).text(json.pts_price);
						$('.pts_quantity'+json.product_id).text(json.pts_quentity);
						$('.pts_status'+json.product_id).text(json.pts_status);
						if(json.pts_status_id == 1){
						    $('.pts_status'+json.product_id).css('display','#5cb85c');
						}else{
							 $('.pts_status'+json.product_id).css('display','#c73e38');
						}
						}
						$('#quick_edit_modal').modal('hide');
						//$('body').css('overflow', '');
						//$("html, body").animate({ scrollTop: 0 }, "slow");
						$(".plansave").html('<div class="alert pts-alert-success"><i class="fa fa-exclamation-circle"></i> 	'+ json.message +'</div>');	
						//$('.plansave').css('display','none');
						}else {
						$('.errorplan').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i> '+ json.message +'</div>');
					}
				},
				error: function (json) {
					if(json.status == 'error') {
						$('.errorplan').html('<div class="alert pts-alert-danger"><i class="fa fa-exclamation-circle"></i> '+ json.message +'</div>');
						//$('div.modal , .modal-backdrop').show();
					}
				},
			});
			
	});
	var product_view = {{ product_view }};
	if(product_view == 1){
	      $(".pro-grid").show();
		  $(".pro-list").hide();
	}else{
	     $(".pro-list").show();
		 $(".pro-grid").hide();
	}
	$( document ).ready(function() {														
		$("#pro-grid-view").on("click", function() {
			$(".pro-grid").show();
			$(".pro-list").hide();
			$("#pro-list-view").removeClass("active");
		});
		$("#pro-list-view").on("click", function() {
			$(".pro-list").show();
			$(".pro-grid").hide();
			$("#pro-grid-view").removeClass("active");
		});
	}); 
//--></script>
<style>
 body.modal-open {
    overflow: hidden !important;
}
</style>
{{ footer }}